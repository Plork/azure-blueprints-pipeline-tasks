{
	"id": "1a8623d7-1d5c-423c-9d92-5e9587bbb02a",
	"name": "CreateBlueprint",
	"friendlyName": "Create Azure Blueprint",
	"description": "Creates an Azure Blueprint",
	"helpMarkDown": "",
	"category": "Build",
	"visibility": [
		"Preview",
		"Build",
		"Release"
	],
	"author": "Neil Peterson",
	"version": {
		"Major": 1,
		"Minor": 0,
		"Patch": 8
	},
	"instanceNameFormat": "Create Azure Blueprint",
	"inputs": [{
			"name": "ConnectedServiceName",
			"aliases": ["azureSubscription"],
			"type": "connectedService:AzureRM",
			"label": "Azure Subscription",
			"defaultValue": "",
			"required": true,
			"helpMarkDown": "Select the Azure Resource Manager subscription"
		},
		{
			"name": "BPName",
			"type": "string",
			"label": "Blueprint Name",
			"defaultValue": "",
			"required": true,
			"helpMarkDown": "Enter the Blueprint name."
		},
		{
			"name": "scope",
			"type": "radio",
			"label": "Definition Location",
			"defaultValue": "",
			"required": true,
			"options": {
				"managementGroup": "Management Group",
				"subscription": "Subscription"
			},
			"helpMarkDown": "Select the scope at which the blueprint will be created. Learn more at aka.ms/BlueLocation"
		},
		{
			"name": "MGName",
			"type": "string",
			"label:": "Choose from Management Group",
			"defaultValue": "",
			"required": false,
			"visibleRule": "scope = managementGroup",
			"helpMarkDown": "Management group where the blueprint definition is saved"
		},
		{
			"name": "subscriptionName",
			"type": "pickList",
			"label:": "Choose from Subscription",
			"defaultValue": "",
			"required": false,
			"visibleRule": "scope = subscription",
			"helpMarkDown": "Subscription where the blueprint definition is saved. Learn more at aka.ms/BlueLocation"
		}
	],
	"dataSourceBindings": [{
		"name": "ManagementGroup",
		"target": "MGName",
		"endpointId": "$(ConnectedServiceName)",
		"EndpointUrl": "https://management.azure.com/providers/Microsoft.Management/managementGroups?api-version=2018-03-01-preview",
		"resultSelector": "jsonpath:$.value[*].Name",
		"parameters": {

		}
	}],
	"execution": {
		"PowerShell3": {
			"target": "$(currentDirectory)\\createBlueprint.ps1",
			"argumentFormat": "",
			"workingDirectory": "$(currentDirectory)"
		}
	}
}